/* ====================
   SPECIAL LAYOUT PATTERNS
   Advanced and unique layout systems
   ==================== */

/* ===== MASONRY LAYOUT (Pinterest-style) ===== */
.layout-masonry {
  columns: 3;
  column-gap: 24px;
  padding: 24px;
}

.layout-masonry-item {
  break-inside: avoid;
  margin-bottom: 24px;
  display: inline-block;
  width: 100%;
}

@media (max-width: 1024px) {
  .layout-masonry { columns: 2; }
}

@media (max-width: 640px) {
  .layout-masonry { columns: 1; }
}

/* ===== BENTO BOX LAYOUT (Apple-style) ===== */
.layout-bento {
  display: grid;
  gap: 16px;
  padding: 16px;
}

/* 様々なBentoグリッドパターン */
.layout-bento-1 {
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(3, 200px);
}

.layout-bento-1 > *:nth-child(1) {
  grid-column: 1 / 3;
  grid-row: 1 / 3;
}

.layout-bento-1 > *:nth-child(2) {
  grid-column: 3 / 5;
  grid-row: 1 / 2;
}

.layout-bento-1 > *:nth-child(3) {
  grid-column: 3 / 4;
  grid-row: 2 / 4;
}

.layout-bento-1 > *:nth-child(4) {
  grid-column: 4 / 5;
  grid-row: 2 / 4;
}

.layout-bento-1 > *:nth-child(5) {
  grid-column: 1 / 3;
  grid-row: 3 / 4;
}

/* Bentoパターン2 */
.layout-bento-2 {
  grid-template-columns: repeat(6, 1fr);
  grid-template-rows: repeat(4, 150px);
}

.layout-bento-2 > *:nth-child(1) {
  grid-column: 1 / 4;
  grid-row: 1 / 3;
}

.layout-bento-2 > *:nth-child(2) {
  grid-column: 4 / 7;
  grid-row: 1 / 2;
}

.layout-bento-2 > *:nth-child(3) {
  grid-column: 4 / 5;
  grid-row: 2 / 4;
}

.layout-bento-2 > *:nth-child(4) {
  grid-column: 5 / 7;
  grid-row: 2 / 3;
}

.layout-bento-2 > *:nth-child(5) {
  grid-column: 5 / 7;
  grid-row: 3 / 4;
}

.layout-bento-2 > *:nth-child(6) {
  grid-column: 1 / 4;
  grid-row: 3 / 5;
}

.layout-bento-2 > *:nth-child(7) {
  grid-column: 4 / 7;
  grid-row: 4 / 5;
}

/* ===== MAGAZINE LAYOUT (Editorial) ===== */
.layout-magazine {
  display: grid;
  grid-template-columns: repeat(12, 1fr);
  gap: 32px;
  padding: 32px;
}

.magazine-hero {
  grid-column: 1 / 13;
  min-height: 500px;
}

.magazine-main {
  grid-column: 1 / 9;
}

.magazine-sidebar {
  grid-column: 9 / 13;
}

.magazine-feature {
  grid-column: 1 / 7;
  min-height: 400px;
}

.magazine-secondary {
  grid-column: 7 / 13;
}

/* ===== ZIGZAG LAYOUT (Alternating) ===== */
.layout-zigzag {
  display: flex;
  flex-direction: column;
  gap: 64px;
  padding: 64px 32px;
}

.zigzag-item {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 48px;
  align-items: center;
}

.zigzag-item:nth-child(even) .zigzag-content {
  order: 2;
}

.zigzag-item:nth-child(even) .zigzag-media {
  order: 1;
}

/* ===== SPLIT SCREEN LAYOUT ===== */
.layout-split {
  display: grid;
  grid-template-columns: 1fr 1fr;
  min-height: 100vh;
}

.split-left,
.split-right {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 48px;
}

.split-left {
  position: sticky;
  top: 0;
  height: 100vh;
}

/* ===== FLOATING CARDS LAYOUT ===== */
.layout-floating {
  position: relative;
  min-height: 800px;
  padding: 48px;
}

.floating-card {
  position: absolute;
  width: 300px;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.floating-card:hover {
  transform: scale(1.05) rotate(2deg);
  z-index: 10;
}

.floating-card-1 { top: 50px; left: 50px; }
.floating-card-2 { top: 100px; right: 100px; transform: rotate(-5deg); }
.floating-card-3 { bottom: 150px; left: 200px; transform: rotate(3deg); }
.floating-card-4 { top: 300px; left: 50%; transform: translateX(-50%) rotate(-2deg); }

/* ===== DIAGONAL LAYOUT ===== */
.layout-diagonal {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 32px;
  padding: 32px;
}

.diagonal-item {
  position: relative;
  overflow: hidden;
  transform: skewY(-3deg);
  transition: transform 0.3s ease;
}

.diagonal-item:hover {
  transform: skewY(-3deg) scale(1.02);
}

.diagonal-item > * {
  transform: skewY(3deg);
}

/* ===== OVERLAPPING LAYOUT ===== */
.layout-overlap {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 0;
  padding: 48px;
}

.overlap-item {
  transition: all 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.overlap-item:not(:first-child) {
  margin-left: -80px;
}

.overlap-item:hover {
  transform: translateY(-20px) scale(1.05);
  z-index: 10;
}

/* ===== HOLY GRAIL LAYOUT (3列レイアウト) ===== */
.layout-holy-grail {
  display: grid;
  grid-template-columns: 250px 1fr 250px;
  grid-template-rows: auto 1fr auto;
  min-height: 100vh;
  gap: 0;
}

.holy-grail-header {
  grid-column: 1 / 4;
  padding: 24px;
}

.holy-grail-sidebar-left {
  grid-column: 1 / 2;
  grid-row: 2 / 3;
  padding: 24px;
}

.holy-grail-main {
  grid-column: 2 / 3;
  grid-row: 2 / 3;
  padding: 24px;
}

.holy-grail-sidebar-right {
  grid-column: 3 / 4;
  grid-row: 2 / 3;
  padding: 24px;
}

.holy-grail-footer {
  grid-column: 1 / 4;
  padding: 24px;
}

/* ===== SWISS POSTER LAYOUT ===== */
.layout-swiss {
  display: grid;
  grid-template-columns: repeat(8, 1fr);
  grid-template-rows: repeat(8, 100px);
  gap: 16px;
  padding: 32px;
}

.swiss-title {
  grid-column: 1 / 5;
  grid-row: 1 / 3;
  display: flex;
  align-items: center;
  font-size: clamp(2rem, 5vw, 4rem);
  font-weight: 900;
  line-height: 1;
}

.swiss-image {
  grid-column: 5 / 9;
  grid-row: 1 / 5;
}

.swiss-text {
  grid-column: 1 / 6;
  grid-row: 3 / 6;
}

.swiss-accent {
  grid-column: 6 / 9;
  grid-row: 5 / 7;
  background: linear-gradient(135deg, #ff6b6b, #4ecdc4);
}

/* ===== MOSAIC LAYOUT ===== */
.layout-mosaic {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
  grid-auto-rows: 200px;
  gap: 8px;
  padding: 8px;
}

.mosaic-large {
  grid-column: span 2;
  grid-row: span 2;
}

.mosaic-wide {
  grid-column: span 2;
}

.mosaic-tall {
  grid-row: span 2;
}

/* ===== GOLDEN RATIO LAYOUT ===== */
.layout-golden {
  display: grid;
  grid-template-columns: 1.618fr 1fr;
  gap: 32px;
  padding: 32px;
  min-height: 100vh;
}

.golden-major {
  display: flex;
  flex-direction: column;
  justify-content: center;
}

.golden-minor {
  display: flex;
  flex-direction: column;
  gap: 24px;
}

/* ===== RESPONSIVE ADJUSTMENTS ===== */
@media (max-width: 1024px) {
  .layout-bento-1,
  .layout-bento-2 {
    grid-template-columns: repeat(2, 1fr);
    grid-template-rows: auto;
  }

  .layout-bento-1 > *,
  .layout-bento-2 > * {
    grid-column: auto !important;
    grid-row: auto !important;
  }

  .layout-magazine {
    grid-template-columns: 1fr;
  }

  .magazine-main,
  .magazine-sidebar,
  .magazine-feature,
  .magazine-secondary {
    grid-column: 1 / -1;
  }

  .layout-split {
    grid-template-columns: 1fr;
  }

  .split-left {
    position: relative;
    height: auto;
  }

  .layout-holy-grail {
    grid-template-columns: 1fr;
  }

  .holy-grail-header,
  .holy-grail-sidebar-left,
  .holy-grail-main,
  .holy-grail-sidebar-right,
  .holy-grail-footer {
    grid-column: 1 / -1 !important;
  }

  .layout-golden {
    grid-template-columns: 1fr;
  }
}

@media (max-width: 768px) {
  .zigzag-item {
    grid-template-columns: 1fr;
    gap: 24px;
  }

  .zigzag-item:nth-child(even) .zigzag-content,
  .zigzag-item:nth-child(even) .zigzag-media {
    order: 0;
  }

  .layout-overlap {
    grid-template-columns: 1fr;
  }

  .overlap-item:not(:first-child) {
    margin-left: 0;
    margin-top: -40px;
  }

  .layout-swiss {
    grid-template-columns: 1fr;
    grid-template-rows: auto;
  }

  .swiss-title,
  .swiss-image,
  .swiss-text,
  .swiss-accent {
    grid-column: 1 / -1 !important;
    grid-row: auto !important;
  }
}

/* ===== ANIMATION UTILITIES ===== */
.layout-animate-in > * {
  animation: layoutFadeIn 0.6s ease-out backwards;
}

.layout-animate-in > *:nth-child(1) { animation-delay: 0.1s; }
.layout-animate-in > *:nth-child(2) { animation-delay: 0.2s; }
.layout-animate-in > *:nth-child(3) { animation-delay: 0.3s; }
.layout-animate-in > *:nth-child(4) { animation-delay: 0.4s; }
.layout-animate-in > *:nth-child(5) { animation-delay: 0.5s; }
.layout-animate-in > *:nth-child(6) { animation-delay: 0.6s; }

@keyframes layoutFadeIn {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ===== PARALLAX SCROLL EFFECT ===== */
.layout-parallax {
  position: relative;
  overflow: hidden;
}

.parallax-layer {
  position: absolute;
  width: 100%;
  height: 100%;
  transition: transform 0.1s ease-out;
}

.parallax-layer-back {
  transform: translateZ(-1px) scale(2);
}

.parallax-layer-front {
  transform: translateZ(1px) scale(0.5);
}
