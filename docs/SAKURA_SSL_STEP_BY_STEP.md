# 🔐 さくらサーバー SSL設定 完全ガイド（画面付き）

現在表示されている画面から、無料SSL証明書を設定する手順

---

## 📍 現在の状況

### 確認できた情報

**ドメイン**: `wonderful-world.llc`
- SSL: **未登録**（"-" と表示）
- Web公開フォルダ: `~/www/`
- メール: 全ユーザー利用可

**ドメイン設定画面の状態**:
- ✅ マルチドメインとして利用する: 設定可能
- ✅ IPv6アドレスの使用: 利用可能
- ❌ SSLの利用: **証明書未登録のため選択できません**
- ❌ HTTPS転送設定: **SSL未利用のため選択できません**

**問題**:
現在、SSL証明書が登録されていないため、ドメイン設定画面で「SSLを利用する」をチェックできません。

---

## ✅ 解決手順（3ステップ）

### ステップ1: SSL証明書を登録する

まず、ドメイン設定画面から一旦離れて、SSL証明書の登録を行います。

#### 1-1. 左メニューから「ドメイン/SSL」をクリック

画面左側のメニューから：
```
ドメイン/SSL → 証明書一覧 / ドメイン・SSL
```

#### 1-2. 「ドメイン/SSL」または「証明書一覧」を選択

以下のいずれかの項目を探してクリック：
- 「ドメイン/SSL」
- 「証明書一覧」
- 「SSL証明書」

#### 1-3. ドメイン一覧画面で `wonderful-world.llc` を探す

ドメイン一覧が表示されます：
```
another-blue.jp     [独自SSL] 有効期限: 2025/12/1
wonderful-world.llc [-]       有効期限: -        ← これを探す
wonderfulworld.sakura.ne.jp [共有SSL]
```

#### 1-4. `wonderful-world.llc` の行の「証明書」または「登録」ボタンをクリック

行の右側に以下のようなボタンがあります：
- 「証明書」
- 「登録」
- 「設定」
- または「詳細」

いずれかをクリックしてください。

#### 1-5. 「無料SSL」または「Let's Encrypt」を選択

証明書登録画面が表示されます。以下を探してください：

**選択肢A: 無料SSL証明書**
```
○ 無料SSL証明書（Let's Encrypt）
   費用: 0円
   自動更新: あり
   [この証明書を登録する]
```

**選択肢B: 有償SSL証明書一覧**
```
JPRS ドメイン認証型 (自動更新) - 2,200円/年
ジオトラスト クイックSSLプレミアム - 15,950円/年
...
```

❌ **有償証明書は選択しないでください**
✅ **無料SSL証明書（Let's Encrypt）を選択してください**

#### 1-6. ドメイン選択

無料SSL証明書の登録画面で、以下をチェック：

```
☑ wonderful-world.llc
☑ www.wonderful-world.llc
```

**両方にチェックを入れることを推奨します**（wwwあり/なし両方対応）

#### 1-7. 「無料SSLを設定する」ボタンをクリック

確認画面が表示されます。

#### 1-8. 確認画面で「設定する」をクリック

証明書の発行が開始されます。

#### 1-9. 発行完了を待つ

ステータスが以下のように変わります：
```
発行処理中 → 発行中 → 利用中
```

**所要時間**: 通常1〜5分、最大1時間

**確認方法**:
- ページをリロード（F5キー）
- ステータスが「利用中」になるまで待つ

---

### ステップ2: ドメイン設定でSSLを有効化

証明書が「利用中」になったら、ドメイン設定画面に戻ります。

#### 2-1. ドメイン一覧に戻る

左メニュー：
```
ドメイン/SSL → ドメイン/SSL
```

#### 2-2. `wonderful-world.llc` の「設定」ボタンをクリック

ドメイン一覧から `wonderful-world.llc` の行を探し、右側の「設定」ボタンをクリック。

#### 2-3. 「SSLの利用」をチェック

ドメイン設定画面（現在表示されている画面）で、以下をチェック：

```
基本設定

☑ マルチドメインとして利用する
☑ www.が付与されたサブドメインも利用する

Web公開フォルダ: ~/www/

☑ IPv6アドレスの使用: 利用する

☑ SSLの利用: SSLを利用する  ← ここが選択可能になる

☑ HTTPS転送設定: HTTPSに転送する  ← ここも選択可能になる

www.転送設定: wonderful-world.llc に転送する（推奨）
```

#### 2-4. 「送信」または「保存」ボタンをクリック

画面下部のボタンをクリックして設定を保存。

#### 2-5. 反映を待つ

設定が反映されるまで数分かかります。

---

### ステップ3: HTTPS接続確認

#### 3-1. ブラウザで確認

```
https://wonderful-world.llc
```

#### 3-2. 🔒マークを確認

アドレスバーの左側に🔒マークが表示されれば成功！

#### 3-3. 証明書情報を確認（オプション）

🔒マークをクリック → 「証明書」を表示
- 発行者: Let's Encrypt
- 有効期限: 3ヶ月後（自動更新）

---

## 🖼️ 画面の具体例

### 現在の画面（ドメイン設定）

あなたが見ている画面：
```
wonderful-world.llc
ドメイン設定

基本設定
□ マルチドメインとして利用する
□ www.が付与されたサブドメインも利用する
Web公開フォルダ: ~/www/
□ IPv6アドレスの使用: 利用する

□ SSLの利用: SSLを利用する
  ⚠ 証明書未登録のドメインではSSLをご利用いただけません  ← 現状

□ HTTPS転送設定: HTTPSに転送する
  ⚠ SSL未利用のため選択できません  ← 現状
```

### SSL証明書登録後の画面（目標）

SSL証明書登録後、この画面は以下のようになります：
```
wonderful-world.llc
ドメイン設定

基本設定
☑ マルチドメインとして利用する
☑ www.が付与されたサブドメインも利用する
Web公開フォルダ: ~/www/
☑ IPv6アドレスの使用: 利用する

☑ SSLの利用: SSLを利用する  ← チェック可能に！

☑ HTTPS転送設定: HTTPSに転送する  ← チェック可能に！
```

---

## 🔍 SSL証明書登録画面の探し方（詳細）

### パターン1: 左メニューから

```
[サーバーコントロールパネル]

├── ホーム
├── ファイルマネージャー
├── Webサイト/データ
├── ドメイン/SSL  ← ここをクリック
│   ├── ドメイン/SSL  ← さらにここをクリック
│   │   └── ドメイン一覧が表示される
│   ├── 証明書一覧
│   └── ドメイン新規追加
├── メール
├── データベース
└── ...
```

### パターン2: ホーム画面から

```
[ホーム画面]

クイック設定
├── Webサイト設定
├── メールアドレス追加
├── SSL証明書  ← ここをクリック
│   └── 無料SSLの設定へ
└── データベース設定
```

### パターン3: 検索機能

サーバーコントロールパネル上部の検索ボックスで：
```
🔍 Let's Encrypt
```
または
```
🔍 無料SSL
```
と検索

---

## 📋 完全チェックリスト

### Phase 1: SSL証明書登録

- [ ] 左メニュー「ドメイン/SSL」をクリック
- [ ] 「ドメイン/SSL」または「証明書一覧」を選択
- [ ] ドメイン一覧で `wonderful-world.llc` を探す
- [ ] 「証明書」または「登録」ボタンをクリック
- [ ] 「無料SSL証明書（Let's Encrypt）」を選択
- [ ] `wonderful-world.llc` と `www.wonderful-world.llc` にチェック
- [ ] 「無料SSLを設定する」をクリック
- [ ] 確認画面で「設定する」をクリック
- [ ] ステータスが「利用中」になるまで待つ（1〜5分）

### Phase 2: ドメイン設定

- [ ] 左メニュー「ドメイン/SSL」→「ドメイン/SSL」
- [ ] `wonderful-world.llc` の「設定」ボタンをクリック
- [ ] 以下をチェック：
  - [ ] ☑ マルチドメインとして利用する
  - [ ] ☑ www.が付与されたサブドメインも利用する
  - [ ] ☑ IPv6アドレスの使用: 利用する
  - [ ] ☑ SSLの利用: SSLを利用する
  - [ ] ☑ HTTPS転送設定: HTTPSに転送する
  - [ ] www.転送設定: `wonderful-world.llc に転送する`
- [ ] 「送信」または「保存」をクリック
- [ ] 数分待つ

### Phase 3: 確認

- [ ] `https://wonderful-world.llc` にアクセス
- [ ] 🔒マークが表示される
- [ ] HTTPでアクセスすると自動でHTTPSに転送される
- [ ] `http://wonderful-world.llc` → `https://wonderful-world.llc`

---

## 🌐 次のステップ: サイトのデプロイ

SSL設定が完了したら、実際のWONDERFUL WORLDサイトを表示させる必要があります。

### 選択肢A: Vercelにカスタムドメイン設定（推奨）

**メリット**:
- 自動デプロイ
- Git連携
- 高速CDN
- SSL自動更新
- Next.js最適化

**手順概要**:
1. Vercelダッシュボード → Settings → Domains
2. `wonderful-world.llc` を追加
3. VercelがDNSレコードを表示
4. さくらサーバーのDNS設定にVercelのレコードを追加
5. 完了（詳細は別ドキュメントで説明可能）

### 選択肢B: さくらサーバーに直接デプロイ

**デメリット**:
- 手動アップロード
- Next.jsのSSR制限
- 自動デプロイなし

**手順概要**:
1. `npm run build` でビルド
2. 生成されたファイルをFTPでアップロード
3. Node.js環境設定（さくらサーバーの場合制限あり）

**推奨**: Vercelにカスタムドメイン設定する方が簡単で高機能です。

---

## 🆘 トラブルシューティング

### Q: 「無料SSL」のメニューが見つからない

**確認事項**:
1. 「ドメイン/SSL」→「ドメイン/SSL」をクリックしましたか？
2. ドメイン一覧は表示されていますか？
3. `wonderful-world.llc` の行に「証明書」ボタンはありますか？

**解決方法**:
- スクリーンショットを撮って、さくらサポートに問い合わせ
- 電話サポート: 06-6476-8790 / 03-5332-7071

---

### Q: SSL証明書の発行に失敗する

**エラーメッセージ例**:
```
証明書の発行に失敗しました
ドメインの所有権を確認できませんでした
```

**原因**:
- DNSがさくらサーバーを向いていない
- ドメインが他のサーバーで使用中

**解決方法**:
1. ドメインのネームサーバーを確認
   - さくらのネームサーバーに設定されているか
   - `ns1.dns.ne.jp` と `ns2.dns.ne.jp`
2. 数時間待ってから再試行（DNS伝播に時間がかかる）
3. ドメインコントロールパネルでDNS設定を確認

---

### Q: 「証明書未登録のため選択できません」が消えない

**原因**:
- まだSSL証明書を登録していない
- SSL証明書の発行が完了していない

**解決方法**:
1. ドメイン一覧で `wonderful-world.llc` のSSL欄を確認
2. 「-」と表示されている場合は未登録
3. 「発行処理中」の場合は待つ
4. 「利用中」になってからドメイン設定画面に戻る

---

### Q: HTTPSでアクセスできない

**チェックリスト**:
- [ ] SSL証明書のステータスは「利用中」ですか？
- [ ] ドメイン設定で「SSLを利用する」にチェックしましたか？
- [ ] 設定保存後、10分以上待ちましたか？
- [ ] ブラウザのキャッシュをクリアしましたか？（Ctrl+Shift+R）

---

## 📞 サポート情報

### さくらインターネット サポート

**電話**:
- 大阪: 06-6476-8790
- 東京: 03-5332-7071
- 平日 10:00〜18:00

**オンラインヘルプ**:
```
https://help.sakura.ad.jp/
```

**よくある質問**:
「Let's Encrypt SSL証明書 設定」で検索

**問い合わせ時に伝える情報**:
- 契約番号（サーバーコントロールパネルに表示）
- ドメイン名: `wonderful-world.llc`
- 問題: 「Let's Encrypt無料SSL証明書の設定方法が分かりません」

---

## 📝 まとめ

### 今すぐやること

1. **左メニュー「ドメイン/SSL」→「ドメイン/SSL」をクリック**
2. **ドメイン一覧で `wonderful-world.llc` の「証明書」ボタンをクリック**
3. **「無料SSL証明書（Let's Encrypt）」を選択**
4. **両方のドメインにチェックして「設定する」をクリック**
5. **「利用中」になるまで待つ（1〜5分）**
6. **ドメイン設定で「SSLを利用する」にチェック**
7. **`https://wonderful-world.llc` でアクセス確認**

### 費用

- 無料SSL証明書: **0円**
- 自動更新: **0円**
- 有効期限: 90日（自動更新されるため実質無期限）

---

**作成日**: 2025年10月30日
**対象**: さくらのレンタルサーバー
**作成者**: Claude Code
