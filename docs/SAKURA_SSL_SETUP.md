# 🔒 さくらのレンタルサーバー 無料SSL設定ガイド

さくらのレンタルサーバーで **無料のSSL証明書（Let's Encrypt）** を設定する方法

---

## ✅ 結論：無料で設定できます！

さくらのレンタルサーバーでは、**Let's Encrypt という無料のSSL証明書**が利用できます。
画面に表示されている有償証明書を購入する必要は**ありません**。

---

## 📋 無料SSL（Let's Encrypt）設定手順

### ステップ1: サーバーコントロールパネルにログイン

現在の画面（SSL証明書登録）から続けて作業できます。

---

### ステップ2: 無料SSLの設定画面に移動

画面上部または左メニューから以下を探してください：

#### パターンA: 「ドメイン/SSL」→「ドメイン/SSL」
1. 左メニューの「ドメイン/SSL」をクリック
2. 「ドメイン/SSL」を再度クリック
3. ドメイン一覧が表示される

#### パターンB: 直接「無料SSL」ボタン
- SSL証明書登録画面の下の方に「無料SSL」または「Let's Encrypt」のボタンがあるかもしれません

#### パターンC: ドメイン一覧から
1. 「ドメイン/SSL」→「ドメイン/SSL」
2. `wonderful-world.llc` を探す
3. 右側の「SSL」または「証明書」ボタンをクリック

---

### ステップ3: Let's Encrypt（無料SSL）を有効化

1. **ドメイン選択**
   - `wonderful-world.llc` を選択
   - wwwあり/なし両方にチェック（推奨）
     - ☑ `wonderful-world.llc`
     - ☑ `www.wonderful-world.llc`

2. **「無料SSLを設定する」ボタンをクリック**

3. **確認画面で「設定する」をクリック**

---

### ステップ4: 証明書発行待ち

- **所要時間**: 数分〜最大1時間
- **ステータス**: 「発行処理中」→「利用中」に変わる
- ページをリロードして確認

---

### ステップ5: HTTPS接続確認

証明書が「利用中」になったら、以下にアクセスして確認：

```
https://wonderful-world.llc
```

🔒マークが表示されれば成功です！

---

## 🖼️ 画面で探すポイント

### 現在の画面の場合

あなたが見ている「有償SSL証明書一覧」の画面は、**有料プランの紹介ページ**です。

**無料SSLは別の場所にあります。以下を探してください：**

#### 探し方1: 左メニュー
```
ドメイン/SSL
└── ドメイン/SSL
    └── ドメイン一覧
        └── 各ドメインの「SSL」ボタン
```

#### 探し方2: 検索
- サーバーコントロールパネル上部の検索ボックス
- 「Let's Encrypt」または「無料SSL」と検索

#### 探し方3: ホーム画面から
```
ホーム（左上のロゴをクリック）
└── クイック設定
    └── SSL証明書
        └── 無料SSLの設定
```

---

## 📸 具体的な画面イメージ

### 正しい画面の特徴

無料SSL設定画面には以下のような要素があります：

- **タイトル**: 「SSL証明書の設定」または「Let's Encrypt」
- **ドメイン選択**: チェックボックスでドメインを選択
- **ボタン**: 「無料SSLを設定する」（青色または緑色）
- **説明**: 「Let's Encryptの無料SSL証明書を利用できます」

### 現在の画面（有償SSL一覧）の特徴

- **タイトル**: 「有償SSL証明書一覧」
- **プラン一覧**: JPRS、ジオトラスト、サイバートラスト
- **価格表示**: 990円〜58,300円
- ❌ **これは有料プランの紹介ページなので、ここでは設定しません**

---

## 🔧 さくらサーバーでの詳細手順（2024年最新版）

### 方法1: ドメイン一覧から設定（推奨）

1. **サーバーコントロールパネル左メニュー**
   - 「ドメイン/SSL」をクリック

2. **「ドメイン/SSL」を再度クリック**
   - ドメイン一覧が表示される

3. **`wonderful-world.llc` の行を探す**
   - 右側に「SSL」または「証明書」のボタンがある

4. **「SSL」ボタンをクリック**

5. **「無料SSLの設定へ進む」または「Let's Encrypt」を選択**

6. **設定画面で以下を選択**
   - ☑ `wonderful-world.llc`
   - ☑ `www.wonderful-world.llc`

7. **「無料SSLを設定する」ボタンをクリック**

8. **確認画面で「設定する」をクリック**

9. **数分待つ**
   - ステータスが「利用中」になるまで待機

10. **完了！**
    - `https://wonderful-world.llc` にアクセスして確認

---

### 方法2: クイック設定から（より簡単）

さくらサーバーの新しいコントロールパネルの場合：

1. **ホーム画面左上のロゴをクリック**
   - ホーム画面に戻る

2. **「クイック設定」セクションを探す**
   - 画面中央付近にある

3. **「SSL証明書」をクリック**

4. **「無料SSLを利用する」を選択**

5. **ドメイン選択して「設定する」**

---

## 💰 無料SSL vs 有償SSL

### 無料SSL（Let's Encrypt）で十分な場合

- ✅ 個人サイト
- ✅ 中小企業の一般的なWebサイト
- ✅ ブログ、ポートフォリオ
- ✅ ECサイト（一般的な規模）
- ✅ **WONDERFUL WORLDのようなサービスサイト**

**結論**: ほとんどの場合、無料SSLで十分です。

### 有償SSLが必要な場合

- 🏦 金融機関
- 🏥 医療機関（個人情報を多数扱う）
- 🛒 大規模ECサイト（年商数億円以上）
- 📊 企業認証（OV/EV）が必要な場合
- 🔐 サイトシール（信頼マーク）を表示したい場合

---

## 🔄 HTTPSへの自動転送設定

SSL証明書設定後、HTTPからHTTPSへ自動転送する設定も推奨します。

### .htaccess に追加

さくらサーバーのファイルマネージャーまたはFTPで、以下を `.htaccess` に追加：

```apache
# HTTPからHTTPSへ自動転送
RewriteEngine On
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [R=301,L]
```

**配置場所**: ドメインのルートディレクトリ（`public_html` や `www` フォルダ）

---

## 🌐 Vercel + さくらサーバーの併用について

現在のプロジェクト構成を確認します：

### 現状
- ✅ GitHubリポジトリ: `yannsunn/WONDERFULWORLD`
- ✅ Vercelデプロイ: `wonderfulworld.vercel.app`
- ✅ さくらサーバー: `wonderful-world.llc` （ドメイン取得済み）

### 推奨構成

#### パターンA: Vercelをメインにする（推奨）

**理由**:
- Next.jsに最適化
- 自動デプロイ
- 無料SSL自動
- 高速CDN
- Git連携

**手順**:
1. さくらサーバーでSSL設定（上記手順）
2. Vercelでカスタムドメイン追加
3. さくらサーバーのDNS設定をVercelに向ける

**結果**:
- `wonderful-world.llc` → Vercel経由でNext.jsアプリ表示
- さくらサーバーは使わない（またはメールサーバー専用）

#### パターンB: さくらサーバーにデプロイ

**手順**:
1. さくらサーバーでSSL設定
2. Next.jsをビルド: `npm run build`
3. `.next/static` と `.next/server` をさくらサーバーにアップロード
4. Node.js環境を設定（さくらサーバーの場合、制限あり）

**デメリット**:
- さくらサーバーは静的ホスティング向き
- Next.jsのSSR機能が制限される
- 自動デプロイできない

---

## ✅ 次のステップ

### 今すぐやること

1. **無料SSLを設定**
   - 上記手順でLet's Encryptを設定
   - 費用: 0円
   - 所要時間: 5分

2. **HTTPSアクセス確認**
   ```
   https://wonderful-world.llc
   ```

3. **構成を決定**
   - Vercel + カスタムドメイン（推奨）
   - さくらサーバー単体

### Vercelにカスタムドメイン設定する場合

詳細手順は別ドキュメントで作成しますが、概要：

1. **Vercelダッシュボード**
   - Settings → Domains
   - `wonderful-world.llc` を追加

2. **DNSレコード取得**
   - VercelがAレコードまたはCNAMEレコードを表示

3. **さくらサーバーのDNS設定**
   - サーバーコントロールパネル → ドメイン/SSL → DNS設定
   - Vercelが指定したレコードを追加

4. **伝播待ち**
   - 数時間〜24時間

5. **完了**
   - `https://wonderful-world.llc` でNext.jsアプリ表示

---

## 🆘 トラブルシューティング

### Q: 「無料SSL」のボタンが見つからない

**A1: 左メニューの「ドメイン/SSL」を確認**
```
ドメイン/SSL → ドメイン/SSL → ドメイン一覧
```

**A2: サーバーコントロールパネルのバージョン確認**
- 新バージョン: ホーム → クイック設定 → SSL証明書
- 旧バージョン: ドメイン設定 → ドメイン詳細 → SSL証明書

**A3: サポートに問い合わせ**
- さくらサポート: https://help.sakura.ad.jp/
- チャット/電話で「Let's Encryptの設定方法」を聞く

---

### Q: SSL証明書の発行に失敗する

**原因**:
- DNSがさくらサーバーを向いていない
- ドメインの認証ができない

**解決方法**:
1. DNSの伝播を待つ（最大48時間）
2. DNS設定を確認（ネームサーバーがさくらになっているか）
3. 数時間後に再試行

---

### Q: HTTPSでアクセスできない

**チェックリスト**:
- [ ] SSL証明書のステータスが「利用中」になっている
- [ ] 10分以上待った（証明書の反映に時間がかかる）
- [ ] キャッシュをクリアしてリロード（Ctrl+Shift+R）
- [ ] 別のブラウザで試す

---

## 📞 サポート連絡先

### さくらインターネット サポート

**ヘルプページ**:
```
https://help.sakura.ad.jp/
```

**電話サポート**:
- 大阪: 06-6476-8790
- 東京: 03-5332-7071
- 受付時間: 平日 10:00〜18:00

**メールサポート**:
- コントロールパネルから問い合わせ可能

**よくある質問**:
- 「Let's Encrypt SSL証明書の設定方法」で検索

---

## 📝 まとめ

### ✅ やるべきこと

1. **有償SSLは購入しない**
   - 無料のLet's Encryptで十分

2. **無料SSL（Let's Encrypt）を設定**
   - 費用: 0円
   - 所要時間: 5分
   - 有効期限: 自動更新

3. **設定場所**
   - ドメイン/SSL → ドメイン/SSL → ドメイン一覧
   - 各ドメインの「SSL」ボタン

4. **HTTPS確認**
   - `https://wonderful-world.llc`

### 💡 将来的に検討

- Vercelへのカスタムドメイン設定
- DNSをVercelに向ける（推奨）
- さくらサーバーはメール専用に

---

**作成日**: 2025年10月30日
**対象サービス**: さくらのレンタルサーバー
**作成者**: Claude Code
